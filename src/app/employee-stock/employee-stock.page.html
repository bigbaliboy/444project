<ion-header color="primary">
  <ion-toolbar>
    <ion-item lines="none">
      <ion-button (click)="previous()" fill="clear"
        ><ion-icon
          size="large"
          slot="start"
          name="arrow-back-circle-outline"
        ></ion-icon
      ></ion-button>
      <ion-label>
        <h1>Stock</h1>
      </ion-label>
    </ion-item>
  </ion-toolbar>
</ion-header>
<ion-content class="ion-padding" [fullscreen]="true">
  <ion-searchbar
    [(ngModel)]="searchTerm"
    show-clear-button="focus"
    value=""
  ></ion-searchbar>

  <ion-grid [fixed]="true">
    <!-- Titles of table -->
    <br />
    <ion-row class="headline">
      <ion-col size="2">
        <ion-label>
          <h3><b>S.NO</b></h3>
        </ion-label>
      </ion-col>
      <ion-col size="6">
        <ion-label>
          <h3><b>Name</b></h3>
        </ion-label>
      </ion-col>
      <ion-col size="3">
        <ion-label>
          <h3><b>Quantity</b></h3>
        </ion-label>
      </ion-col>
    </ion-row>
    <!-- Entries -->

    <ion-row
      (click)="view(x)"
      class="entry"
      *ngFor="let x of (items|async) | filter:searchTerm ; let i = index"
      [ngStyle]="{'background-color': x.Quantity<x.thresholdQuantity? 'red' : 'none'}"
    >
      <ion-col size="2">
        <ion-label>
          <h3>{{i+1}}</h3>
        </ion-label>
      </ion-col>
      <ion-col size="6">
        <ion-label>
          <h3>{{x.Name}}</h3>
        </ion-label>
      </ion-col>
      <ion-col size="4">
        <ion-label>
          <h3>{{x.Quantity}}</h3>
        </ion-label>
      </ion-col>
    </ion-row>
    <!-- End of Entries -->
  </ion-grid>

  <!-- MODAL PAGE FOR VIEWING EACH Item -->
  <ion-content class="ion-padding">
    <ion-modal [isOpen]="isModalOpen">
      <ng-template>
        <ion-header>
          <ion-toolbar>
            <ion-item lines="none">
              <ion-button (click)="close()" fill="clear"
                ><ion-icon
                  size="large"
                  slot="start"
                  name="arrow-back-circle-outline"
                ></ion-icon
              ></ion-button>
              <ion-label>
                <h1>View Details</h1>
              </ion-label>
            </ion-item>
          </ion-toolbar>
        </ion-header>
        <ion-content class="ion-padding">
          <div
            align="center"
            style="
              height: 200px;
              border-bottom-left-radius: 50px;
              border-bottom-right-radius: 50px;
            "
          >
            <div style="padding-top: 50px">
              <ion-icon
                style="font-size: 7em; color: black"
                name="cube"
              ></ion-icon>
            </div>
          </div>

          <br /><br />
          <br /><br />

          <!-- View Details Form -->
          <ion-list>
            <ion-item [(ngModel)]="Name" lines="inset" style="font-size: 1.5em">
              <ion-label class="labels">Name: {{Name}}</ion-label>
            </ion-item>

            <ion-item [(ngModel)]="Demand" lines="inset" style="font-size: 1.5em">
              <ion-label class="labels">Demand: {{Demand}}</ion-label>
            </ion-item>

            <ion-item [(ngModel)]="Category" lines="inset" style="font-size: 1.5em">
              <ion-label class="labels">Category: {{Category}}</ion-label>
            </ion-item>

            <ion-item [(ngModel)]="Price" lines="inset" style="font-size: 1.5em">
              <ion-label class="labels">Price: {{Price}}</ion-label>
            </ion-item>

            <ion-item [(ngModel)]="Quantity" lines="inset" style="font-size: 1.5em">
              <ion-label class="labels">Quantity: {{Quantity}}</ion-label>
            </ion-item>

            <ion-item [(ngModel)]="Supplier" lines="inset" style="font-size: 1.5em">
              <ion-label class="labels">Supplier: {{Supplier}}</ion-label>
            </ion-item>

            <ion-item [(ngModel)]="Threshold" lines="inset" style="font-size: 1.5em">
              <ion-label class="labels">Threshold Qty: {{Threshold}}</ion-label>
            </ion-item>
          </ion-list>
        </ion-content>
      </ng-template>
    </ion-modal>
  </ion-content>
  <!-- -------------------------------End of View Member MODAL----------------------------------------------------------------- -->
</ion-content>
